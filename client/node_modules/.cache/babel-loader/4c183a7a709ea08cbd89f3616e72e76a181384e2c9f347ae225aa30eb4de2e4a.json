{"ast":null,"code":"import _toConsumableArray from\"C:/Users/USER/Desktop/HungryHub1/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/USER/Desktop/HungryHub1/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import'./restaurants.css';import axios from'../../axios';import{useNavigate,useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Restaurants(){var navigate=useNavigate();var location=useLocation();var userId='6471f9cc40dcddd0fed9dfd1';var userName='safa c';var _useState=useState([]),_useState2=_slicedToArray(_useState,2),restaurants=_useState2[0],setRestaurants=_useState2[1];useEffect(function(){axios.get('/users').then(function(response){var restaurantsArray=response.data.restaurantData;setRestaurants(restaurantsArray);// console.log(restaurantsArray); \nvar sortedRestaurantsList=_toConsumableArray(restaurantsArray).sort(function(a,b){return b.relevance-a.relevance;});setRestaurants(sortedRestaurantsList);}).catch(function(err){console.log(err);});},[]);var viewHandle=function viewHandle(restId,menu){navigate(\"/menu/\".concat(restId),{state:{menu:menu,userId:userId,userName:userName}});};var filterRestaurants=function filterRestaurants(sortOption){var sortedRestaurantsList=[];switch(sortOption){case'Relevance':sortedRestaurantsList=_toConsumableArray(restaurants).sort(function(a,b){return b.relevance-a.relevance;});break;case'Delivery Time':sortedRestaurantsList=_toConsumableArray(restaurants).sort(function(a,b){return a.deliveryTime-b.deliveryTime;});break;case'Rating':sortedRestaurantsList=_toConsumableArray(restaurants).sort(function(a,b){return b.rating-a.rating;});break;case'Cost: Low To High':sortedRestaurantsList=_toConsumableArray(restaurants).sort(function(a,b){return a.cost-b.cost;});break;case'Cost: High To Low':sortedRestaurantsList=_toConsumableArray(restaurants).sort(function(a,b){return b.cost-a.cost;});break;default:sortedRestaurantsList=_toConsumableArray(restaurants).sort(function(a,b){return b.relevance-a.relevance;});break;}setRestaurants(sortedRestaurantsList);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filters\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"373 restaurants\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-options\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"filter-options\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){var filterValue=e.target.textContent;filterRestaurants(filterValue);},children:\"Relevance\"})}),/*#__PURE__*/_jsxs(\"li\",{children:[\" \",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){var filterValue=e.target.textContent;filterRestaurants(filterValue);},children:\"Delivery Time\"})]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){var filterValue=e.target.textContent;filterRestaurants(filterValue);},children:\"Rating\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){var filterValue=e.target.textContent;filterRestaurants(filterValue);},children:\"Cost: Low To High\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){var filterValue=e.target.textContent;filterRestaurants(filterValue);},children:\"Cost: High To Low\"})})]}),/*#__PURE__*/_jsxs(\"button\",{id:\"filter-icon\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Filters\"}),\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-sliders fa-rotate-90\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"restaurants\",children:restaurants.map(function(restaurant){console.log(restaurant.menus);return/*#__PURE__*/_jsxs(\"div\",{className:\"restaurant-details\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:9000/\".concat(restaurant.menus[0].imageName),alt:\"\"}),/*#__PURE__*/_jsx(\"h3\",{children:restaurant.RestaurantName}),/*#__PURE__*/_jsx(\"p\",{children:restaurant.CuisineType}),/*#__PURE__*/_jsxs(\"div\",{className:\"restaurant-review\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"rate\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-star\"}),/*#__PURE__*/_jsx(\"span\",{children:restaurant.rating})]}),/*#__PURE__*/_jsxs(\"span\",{children:[restaurant.deliveryTime,\" minutes\"]}),/*#__PURE__*/_jsxs(\"span\",{id:\"currency\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",height:\"48\",viewBox:\"0 96 960 960\",width:\"48\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M564 936 290 652v-66h130q57 0 100-37t50-103H240v-60h325q-13-48-53.5-79T420 276H240v-60h480v60H566q23 20 39 51t23 59h92v60h-90q-8 91-67.5 145.5T420 646h-52l279 290h-83Z\"})}),restaurant.cost,\" fOR TWO\"]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return viewHandle(restaurant._id,restaurant.menus);},children:\"QUICK VIEW\"})]},restaurant._id);})})]});}export default Restaurants;","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","useLocation","jsx","_jsx","jsxs","_jsxs","Restaurants","navigate","location","userId","userName","_useState","_useState2","_slicedToArray","restaurants","setRestaurants","get","then","response","restaurantsArray","data","restaurantData","sortedRestaurantsList","_toConsumableArray","sort","a","b","relevance","catch","err","console","log","viewHandle","restId","menu","concat","state","filterRestaurants","sortOption","deliveryTime","rating","cost","className","children","onClick","e","filterValue","target","textContent","id","map","restaurant","menus","src","imageName","alt","RestaurantName","CuisineType","xmlns","height","viewBox","width","d","type","_id"],"sources":["C:/Users/USER/Desktop/HungryHub1/client/src/components/restaurants/Restaurants.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport './restaurants.css'\r\nimport axios from '../../axios'\r\nimport { useNavigate,useLocation } from 'react-router-dom'\r\nfunction Restaurants() {\r\n  const navigate = useNavigate();\r\n  const location = useLocation()\r\n\r\n  const userId ='6471f9cc40dcddd0fed9dfd1'\r\n  const userName = 'safa c'\r\n  const [restaurants, setRestaurants] = useState([])\r\n  useEffect(() => {\r\n    \r\n    axios.get('/users')\r\n      .then(response => {\r\n        let restaurantsArray = response.data.restaurantData\r\n        setRestaurants(restaurantsArray)\r\n        // console.log(restaurantsArray); \r\n        \r\n        const sortedRestaurantsList = [...restaurantsArray].sort((a, b) => b.relevance - a.relevance);\r\n        setRestaurants(sortedRestaurantsList);\r\n      }).catch((err) => {\r\n        console.log(err);\r\n      })\r\n\r\n\r\n  }, []);\r\n\r\n  const viewHandle = (restId, menu) => {\r\n    \r\n    navigate(`/menu/${restId}`, { state: { menu,userId ,userName} })\r\n    \r\n\r\n  }\r\n \r\n  const filterRestaurants = (sortOption) => {\r\n    let sortedRestaurantsList = [];\r\n    switch (sortOption) {\r\n      case 'Relevance':\r\n        sortedRestaurantsList = [...restaurants].sort((a, b) => b.relevance - a.relevance);\r\n        break;\r\n      case 'Delivery Time':\r\n        sortedRestaurantsList = [...restaurants].sort((a, b) => a.deliveryTime - b.deliveryTime);\r\n        break;\r\n      case 'Rating':\r\n        sortedRestaurantsList = [...restaurants].sort((a, b) => b.rating - a.rating);\r\n        break;\r\n      case 'Cost: Low To High':\r\n        sortedRestaurantsList = [...restaurants].sort((a, b) => a.cost - b.cost);\r\n        break;\r\n      case 'Cost: High To Low':\r\n        sortedRestaurantsList = [...restaurants].sort((a, b) => b.cost - a.cost);\r\n        break;\r\n      default:\r\n        sortedRestaurantsList = [...restaurants].sort((a, b) => b.relevance - a.relevance);\r\n        break;\r\n    }\r\n    setRestaurants(sortedRestaurantsList)\r\n  }\r\n\r\n\r\n  return (\r\n    <div className='container'>\r\n      <div className='filters'>\r\n        <h1>373 restaurants</h1>\r\n        <div className='filter-options'>\r\n          <ul className='filter-options'>\r\n            <li><button onClick={(e) => {\r\n              const filterValue = e.target.textContent\r\n              filterRestaurants(filterValue)\r\n            }}>Relevance</button></li>\r\n            <li> <button onClick={(e) => {\r\n              const filterValue = e.target.textContent\r\n              filterRestaurants(filterValue)\r\n            }}>Delivery Time</button></li>\r\n            <li><button onClick={(e) => {\r\n              const filterValue = e.target.textContent\r\n              filterRestaurants(filterValue)\r\n            }}>Rating</button></li>\r\n            <li><button onClick={(e) => {\r\n              const filterValue = e.target.textContent\r\n              filterRestaurants(filterValue)\r\n            }}>Cost: Low To High</button></li>\r\n            <li><button onClick={(e) => {\r\n              const filterValue = e.target.textContent\r\n              filterRestaurants(filterValue)\r\n            }}>Cost: High To Low</button></li>\r\n\r\n          </ul>\r\n          <button id='filter-icon'><span>Filters</span> <i className=\"fa-solid fa-sliders fa-rotate-90\"></i></button>\r\n        </div>\r\n      </div>\r\n      <div className='restaurants'>\r\n        {restaurants.map((restaurant => {\r\n          console.log(restaurant.menus)\r\n    \r\n          return (\r\n            <div className=\"restaurant-details\" key={restaurant._id}>\r\n\r\n              <img src={`http://localhost:9000/${restaurant.menus[0].imageName}`}\r\n\r\n                 alt=\"\" /> \r\n              <h3>{restaurant.RestaurantName}</h3>\r\n              <p>{restaurant.CuisineType}</p>\r\n              <div className='restaurant-review'>\r\n                <div id='rate'>\r\n                  <i className=\"fa-solid fa-star\"></i>\r\n                  <span>{restaurant.rating}</span>\r\n                </div>\r\n                <span>{restaurant.deliveryTime} minutes</span>\r\n                <span id='currency'><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"48\" viewBox=\"0 96 960 960\" width=\"48\"><path d=\"M564 936 290 652v-66h130q57 0 100-37t50-103H240v-60h325q-13-48-53.5-79T420 276H240v-60h480v60H566q23 20 39 51t23 59h92v60h-90q-8 91-67.5 145.5T420 646h-52l279 290h-83Z\" /></svg>{restaurant.cost} fOR TWO</span>\r\n              </div>\r\n              <button type='button' onClick={() => viewHandle(restaurant._id, restaurant.menus)}>QUICK VIEW</button>\r\n            </div>\r\n          )\r\n        }))}\r\n\r\n\r\n\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Restaurants\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}