{"ast":null,"code":"import _slicedToArray from\"C:/Users/USER/Desktop/HungryHub1/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import'./navbar.css';import{Link}from'react-router-dom';import{useLocation,useNavigate}from'react-router-dom';import jwt_decode from'jwt-decode';import axios from'../../axios';import{UserLoginContext}from'../context/useContext';import{useContext}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NavBar(){var navigate=useNavigate();var _useContext=useContext(UserLoginContext),user=_useContext.user,setUser=_useContext.setUser;var _useState=useState('Account'),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var userId;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),changeBackgroundColor=_useState4[0],setChangeBackGroundColor=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),totalCount=_useState6[0],setTotalCount=_useState6[1];var handleMouseEnter=function handleMouseEnter(){setChangeBackGroundColor(true);};var handleMouseLeave=function handleMouseLeave(){setChangeBackGroundColor(false);};var countStyle={backgroundColor:changeBackgroundColor?'#fc8019':'#68a720'};useEffect(function(){var token=localStorage.getItem('token');if(token){var decodedToken=jwt_decode(token);console.log(decodedToken);setUser(decodedToken);setUserName(decodedToken.FullName);userId=decodedToken._id;}axios.post('/users/get-total-count',{userId:userId},{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){console.log(response,'hi');setTotalCount(response.data.response.totalCount);}).catch(function(err){console.log(err.response.status);if(err.response.status){setTotalCount(0);}});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"navbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nav location\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"Icon\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Location\"})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"main-nav nav\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"search icon\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-magnifying-glass\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Search\"})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"search icon\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-percent\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Offers\"})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"search icon\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-regular fa-life-ring\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Help\"})]})}),/*#__PURE__*/_jsxs(\"li\",{className:\"dropdown\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"search icon\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-regular fa-user\"}),/*#__PURE__*/_jsx(\"span\",{children:userName})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"drop-nav\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"#\",children:\"Profile\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"#\",children:\"Orders\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:userName==='Account'?'Login':'Logout'})})]})]}),/*#__PURE__*/_jsxs(Link,{to:{pathname:\"/add-to-cart\",state:{userName:userName}},className:\"search icon\",onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",className:\"feather feather-shopping-bag\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"3\",y1:\"6\",x2:\"21\",y2:\"6\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M16 10a4 4 0 0 1-8 0\"})]}),totalCount!==0&&/*#__PURE__*/_jsx(\"span\",{className:\"count\",style:countStyle,children:totalCount}),/*#__PURE__*/_jsx(\"span\",{children:\"Cart\"})]})]})]});}export default NavBar;","map":{"version":3,"names":["React","useEffect","useState","Link","useLocation","useNavigate","jwt_decode","axios","UserLoginContext","useContext","jsx","_jsx","jsxs","_jsxs","NavBar","navigate","_useContext","user","setUser","_useState","_useState2","_slicedToArray","userName","setUserName","userId","_useState3","_useState4","changeBackgroundColor","setChangeBackGroundColor","_useState5","_useState6","totalCount","setTotalCount","handleMouseEnter","handleMouseLeave","countStyle","backgroundColor","token","localStorage","getItem","decodedToken","console","log","FullName","_id","post","headers","concat","then","response","data","catch","err","status","className","children","href","to","pathname","state","onMouseEnter","onMouseLeave","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","x1","y1","x2","y2","style"],"sources":["C:/Users/USER/Desktop/HungryHub1/client/src/components/navbar/NavBar.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './navbar.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { useLocation  ,useNavigate} from 'react-router-dom'\r\nimport jwt_decode from 'jwt-decode';\r\nimport axios from '../../axios';\r\nimport { UserLoginContext } from '../context/useContext'\r\nimport { useContext } from 'react'\r\nfunction NavBar() {\r\n  const navigate =useNavigate()\r\n  const {user,setUser}= useContext(UserLoginContext)\r\n  const [userName,setUserName] = useState('Account')\r\n  let userId\r\n  \r\n    const [changeBackgroundColor, setChangeBackGroundColor] = useState(false)\r\n    const [totalCount, setTotalCount] = useState(0)\r\n    const handleMouseEnter = () => {\r\n        setChangeBackGroundColor(true)\r\n    }\r\n\r\n    const handleMouseLeave = () => {\r\n        setChangeBackGroundColor(false)\r\n    }\r\n    \r\n    const countStyle = {\r\n        backgroundColor: changeBackgroundColor ? '#fc8019' : '#68a720'\r\n    }\r\n    useEffect(() => {\r\n        const token =localStorage.getItem('token')\r\n        if (token) {\r\n            const decodedToken= jwt_decode(token)\r\n            console.log(decodedToken);\r\n            setUser(decodedToken)\r\n            setUserName(decodedToken.FullName)\r\n             userId = decodedToken._id\r\n        }\r\n        axios.post('/users/get-total-count', { userId },{\r\n            headers:{\r\n                'Authorization':`Bearer ${token}`\r\n            }\r\n        }).then((response) => {\r\n            console.log(response,'hi');\r\n            setTotalCount(response.data.response.totalCount)\r\n        }).catch((err)=>{\r\n            console.log(err.response.status);\r\n            if (err.response.status) {\r\n                setTotalCount(0)\r\n            }\r\n        })\r\n    },[])\r\n\r\n    return (\r\n        <div className='navbar'>\r\n            <div className='nav location'>\r\n                <a href=\"/\">Icon</a>\r\n                <Link to=\"/\">Location</Link>\r\n            </div>\r\n\r\n\r\n            <ul className=\"main-nav nav\">\r\n                <li>\r\n\r\n                    <Link to=\"/\" className='search icon'>\r\n                        <i className=\"fa-solid fa-magnifying-glass\"></i>\r\n                        <span>Search</span>\r\n                    </Link>\r\n                </li>\r\n                <li>\r\n\r\n                    <Link to=\"/\" className='search icon'>\r\n                        <i className=\"fa-solid fa-percent\"></i>\r\n\r\n                        <span>Offers</span>\r\n                    </Link>\r\n                </li>\r\n                <li>\r\n\r\n                    <Link to=\"/\" className='search icon'>\r\n                        <i className=\"fa-regular fa-life-ring\"></i>\r\n                        <span>Help</span>\r\n                    </Link>\r\n                </li>\r\n                <li className=\"dropdown\">\r\n                    <Link to=\"/\" className='search icon'>\r\n                        <i className=\"fa-regular fa-user\"></i>\r\n                        <span>{userName}</span>\r\n                    </Link>\r\n                    <ul className=\"drop-nav\">\r\n                        <li><Link to=\"#\">Profile</Link></li>\r\n                        <li><Link to=\"#\">Orders</Link></li>\r\n                        <li><Link to=\"/login\">{userName === 'Account' ? 'Login' : 'Logout'}</Link></li>\r\n                    </ul>\r\n                </li>\r\n\r\n                <Link to={{pathname: `/add-to-cart`, state:{userName}}} className='search icon' onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\"\r\n                        strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"feather feather-shopping-bag\">\r\n                        <path d=\"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z\">\r\n                        </path><line x1=\"3\" y1=\"6\" x2=\"21\" y2=\"6\"></line><path d=\"M16 10a4 4 0 0 1-8 0\"></path></svg>\r\n                    {totalCount !== 0 && <span className=\"count\" style={countStyle}>{totalCount}</span>}\r\n                    <span>Cart</span>\r\n                </Link>\r\n            </ul>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default NavBar\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}