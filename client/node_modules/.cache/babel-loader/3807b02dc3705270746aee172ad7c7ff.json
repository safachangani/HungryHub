{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\USER\\\\Desktop\\\\swiggy\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\swiggy\\\\client\\\\src\\\\components\\\\login\\\\Login.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport jwt_decode from 'jsonwebtoken';\nimport '../signup/signup.css';\nimport './login.css';\nimport { userLoginSchema } from '../../validation/formValidation';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport axios from '../../axios';\nimport { useNavigate } from 'react-router-dom';\nfunction Login() {\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    errorMessage = _useState2[0],\n    SetErrorMessage = _useState2[1];\n  var navigate = useNavigate();\n  var _useForm = useForm({\n      resolver: yupResolver(userLoginSchema)\n    }),\n    register = _useForm.register,\n    handleSubmit = _useForm.handleSubmit,\n    errors = _useForm.formState.errors;\n  var loginSubmit = function loginSubmit(data) {\n    console.log(data);\n    axios.post('/users/login', data).then(function (response) {\n      localStorage.setItem('token', response.data.token);\n      SetErrorMessage(response.data.response.message);\n      if (response.data.response.user) {\n        var userName = response.data.response.user.FullName;\n        var userId = response.data.response.user._id;\n        navigate('/', {\n          state: {\n            userName: userName,\n            userId: userId\n          }\n        });\n        // navigate('/add-to-cart/:userId',{state:{userName,userId}})\n        console.log(userName);\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"account\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-account\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"food-image\",\n    id: \"food-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sign-up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \"HungryHub\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, \"Welcom Back\"), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, \"Login with your Email and Password\"), /*#__PURE__*/React.createElement(\"form\", {\n    action: \"\",\n    onSubmit: handleSubmit(loginSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sign-up-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    type: \"text\",\n    name: \"\",\n    id: \"\"\n  }, register('Email', {\n    required: true\n  }), {\n    placeholder: \"Enter Your Email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, errors.Email?.message), errorMessage == 'Invalid Email Address' && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 59\n    }\n  }, errorMessage)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sign-up-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    type: \"password\",\n    name: \"\",\n    id: \"\"\n  }, register('Password', {\n    required: true\n  }), {\n    placeholder: \"Enter Your Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, errors.Password?.message), errorMessage == 'Incorrect Password' && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 56\n    }\n  }, errorMessage)), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, \"forgot password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }, \"New to HungryHub? \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 39\n    }\n  }, \"Create Account\"), \" \"))))));\n}\nexport default Login;","map":{"version":3,"names":["React","useEffect","useState","jwt_decode","userLoginSchema","useForm","yupResolver","axios","useNavigate","Login","_useState","_useState2","_slicedToArray","errorMessage","SetErrorMessage","navigate","_useForm","resolver","register","handleSubmit","errors","formState","loginSubmit","data","console","log","post","then","response","localStorage","setItem","token","message","user","userName","FullName","userId","_id","state","catch","err","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","id","action","onSubmit","htmlFor","Object","assign","type","name","required","placeholder","Email","Password","href","value"],"sources":["C:/Users/USER/Desktop/swiggy/client/src/components/login/Login.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport jwt_decode from 'jsonwebtoken';\r\nimport '../signup/signup.css'\r\nimport './login.css'\r\nimport { userLoginSchema } from '../../validation/formValidation'\r\nimport { useForm } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport axios from '../../axios'\r\nimport { useNavigate } from 'react-router-dom'\r\nfunction Login() {\r\n  const [errorMessage,SetErrorMessage] = useState('')\r\n  const navigate =useNavigate()\r\nconst {register,handleSubmit,formState:{errors}}=useForm({\r\n    resolver:yupResolver(userLoginSchema)\r\n})\r\nconst loginSubmit=(data)=>{\r\n  console.log(data);\r\n  axios.post('/users/login',data).then((response)=>{\r\n    localStorage.setItem('token',response.data.token)\r\n    SetErrorMessage(response.data.response.message)\r\n    if(response.data.response.user){\r\n      let userName=response.data.response.user.FullName\r\n      let userId= response.data.response.user._id\r\n      navigate('/',{state:{userName,userId}})\r\n      // navigate('/add-to-cart/:userId',{state:{userName,userId}})\r\n      console.log(userName);\r\n\r\n    }\r\n  }).catch((err)=>{\r\n    console.log(err);\r\n  })\r\n}\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"account\">\r\n        <div className='create-account'>\r\n\r\n          <div className=\"food-image\" id='food-image'>\r\n\r\n          </div>\r\n          <div className=\"sign-up\">\r\n            <h1>HungryHub</h1>\r\n            <h3>Welcom Back</h3>\r\n            <h5>Login with your Email and Password</h5>\r\n            <form action=\"\" onSubmit={handleSubmit(loginSubmit)}>\r\n              <div className='sign-up-form'>\r\n                <label htmlFor=\"\">Email</label>\r\n                <input type=\"text\" name=\"\" id=\"\" {...register('Email',{required:true})} placeholder='Enter Your Email' />\r\n                <p>{errors.Email?.message}</p>\r\n                {errorMessage=='Invalid Email Address' && <p>{errorMessage}</p>}\r\n              </div>\r\n\r\n              <div className='sign-up-form'>\r\n                <label htmlFor=\"\">Password</label>\r\n                <input type=\"password\" name=\"\" id=\"\"  {...register('Password',{required:true})} placeholder='Enter Your Password' />\r\n                <p>{errors.Password?.message}</p>\r\n                {errorMessage=='Incorrect Password' && <p>{errorMessage}</p>}\r\n\r\n              </div>\r\n\r\n              <a href=\"\">forgot password</a>\r\n              <input type=\"submit\" value=\"Login\"  />\r\n             \r\n              <span>New to HungryHub? <a href=\"/signup\">Create Account</a> </span>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}