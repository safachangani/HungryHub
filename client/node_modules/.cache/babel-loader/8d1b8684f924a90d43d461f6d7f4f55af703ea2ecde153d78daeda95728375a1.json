{"ast":null,"code":"import _objectSpread from\"C:/Users/USER/Desktop/HungryHub1/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/USER/Desktop/HungryHub1/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/USER/Desktop/HungryHub1/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import\"./create-menu.css\";import axios from'../../axios';import{Link,useLocation}from'react-router-dom';import{useForm}from'react-hook-form';import{addMenuSchema}from'../../validation/formValidation';import{yupResolver}from'@hookform/resolvers/yup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CreateMenu(){var _useForm=useForm({resolver:yupResolver(addMenuSchema)}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;// const location = useLocation();\n// const restaurantId = location.state.id;\nvar submitMenu=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){var restToken,formData,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:restToken=localStorage.getItem('restaurant-token');console.log(data);formData=new FormData();formData.append(\"itemName\",data.itemName);formData.append(\"category\",data.category);formData.append(\"price\",data.price);formData.append(\"menu\",data.menu[0]);// formData.append(\"restaurantId\", restaurantId);\nconsole.log(formData);_context.prev=8;_context.next=11;return axios.post('/restaurant-addMenu',formData,{headers:{\"Content-Type\":'multipart/form-data','Authorization':\"Bearer \".concat(restToken)}});case 11:response=_context.sent;console.log(response);_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](8);console.log(_context.t0);case 18:case\"end\":return _context.stop();}},_callee,null,[[8,15]]);}));return function submitMenu(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"create-menu\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add Menu\"}),/*#__PURE__*/_jsxs(\"form\",{action:\"/restaurant-addMenu\",id:\"form-menu\",onSubmit:handleSubmit(submitMenu),children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Item Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",id:\"\"},register('itemName',{required:true}))),/*#__PURE__*/_jsx(\"p\",{children:errors.itemName&&'This field is required'}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Category\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",id:\"\"},register('category',{required:true}))),/*#__PURE__*/_jsx(\"p\",{children:errors.catrgory&&'This field is required'}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",id:\"\"},register('price',{required:true}))),/*#__PURE__*/_jsx(\"p\",{children:errors.price&&'This field is required'}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Image\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"file\"},register('menu',{required:true})),{},{id:\"\"})),/*#__PURE__*/_jsx(\"p\",{children:errors.menu&&'This field is required'}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\"}),/*#__PURE__*/_jsx(Link,{to:'/restaurant-control-center',children:\"Finish\"})]})]})]})});}export default CreateMenu;","map":{"version":3,"names":["React","axios","Link","useLocation","useForm","addMenuSchema","yupResolver","jsx","_jsx","jsxs","_jsxs","CreateMenu","_useForm","resolver","register","handleSubmit","errors","formState","submitMenu","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","restToken","formData","response","wrap","_callee$","_context","prev","next","localStorage","getItem","console","log","FormData","append","itemName","category","price","menu","post","headers","concat","sent","t0","stop","_x","apply","arguments","className","children","action","id","onSubmit","htmlFor","_objectSpread","type","required","catrgory","value","to"],"sources":["C:/Users/USER/Desktop/HungryHub1/client/src/components/restaurant-register/CreateMenu.jsx"],"sourcesContent":["import React from 'react'\r\nimport \"./create-menu.css\"\r\nimport axios from '../../axios';\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport { useForm } from 'react-hook-form';\r\nimport { addMenuSchema } from '../../validation/formValidation'\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\n\r\n\r\nfunction CreateMenu() {\r\n\r\n  const { register, handleSubmit, formState: { errors } } = useForm({\r\n    resolver: yupResolver(addMenuSchema)\r\n  })\r\n\r\n  // const location = useLocation();\r\n  // const restaurantId = location.state.id;\r\n\r\n  const submitMenu = async (data) => {\r\n    let restToken = localStorage.getItem('restaurant-token')\r\n    console.log(data);\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"itemName\", data.itemName);\r\n    formData.append(\"category\", data.category);\r\n    formData.append(\"price\", data.price);\r\n    formData.append(\"menu\", data.menu[0]);\r\n    // formData.append(\"restaurantId\", restaurantId);\r\n    console.log(formData);\r\n\r\n    try {\r\n      const response = await axios.post('/restaurant-addMenu', formData, {\r\n        headers: {\r\n          \"Content-Type\": 'multipart/form-data',\r\n          'Authorization':`Bearer ${restToken}`\r\n        }\r\n      })\r\n      console.log(response);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='container'>\r\n      <div className=\"create-menu\">\r\n        <h1>Add Menu</h1>\r\n        <form action=\"/restaurant-addMenu\" id='form-menu' onSubmit={handleSubmit(submitMenu)} >\r\n          <label htmlFor=\"\">Item Name</label>\r\n          <input type=\"text\" id=\"\" {...register('itemName', { required: true })} />\r\n          <p>{errors.itemName && 'This field is required'}</p>\r\n          <label htmlFor=\"\">Category</label>\r\n          <input type=\"text\" id=\"\" {...register('category', { required: true })} />\r\n          <p>{errors.catrgory && 'This field is required'}</p>\r\n          <label htmlFor=\"\">Price</label>\r\n          <input type=\"text\" id=\"\" {...register('price', { required: true })} />\r\n          <p>{errors.price && 'This field is required'}</p>\r\n          <label htmlFor=\"\">Image</label>\r\n          <input type=\"file\"  {...register('menu', { required: true })}\r\n            id=\"\" />\r\n          <p>{errors.menu && 'This field is required'}</p>\r\n\r\n          <div className=\"buttons\">\r\n            <input type=\"submit\" value=\"Submit\" />\r\n            <Link to={'/restaurant-control-center'} >Finish</Link>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreateMenu\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}