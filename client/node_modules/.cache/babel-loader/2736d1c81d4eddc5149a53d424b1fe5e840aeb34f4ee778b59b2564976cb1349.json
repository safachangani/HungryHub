{"ast":null,"code":"import _objectSpread from\"C:/Users/USER/Desktop/HungryHub1/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/USER/Desktop/HungryHub1/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';// import jwt_decode from 'jsonwebtoken';\nimport'../signup/signup.css';import'./login.css';import{userLoginSchema}from'../../validation/formValidation';import{useForm}from'react-hook-form';import{yupResolver}from'@hookform/resolvers/yup';import axios from'../../axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _errors$Email,_errors$Password;var navigate=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),errorMessage=_useState2[0],SetErrorMessage=_useState2[1];var _useForm=useForm({resolver:yupResolver(userLoginSchema)}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;var loginSubmit=function loginSubmit(data){console.log(data);axios.post('/users/login',data).then(function(response){localStorage.setItem('token',response.data.token);SetErrorMessage(response.data.response.message);if(response.data.response.user){var userName=response.data.response.user.FullName;var userId=response.data.response.user._id;navigate('/',{state:{userName:userName,userId:userId}});// navigate('/add-to-cart/:userId',{state:{userName,userId}})\nconsole.log(userName);}}).catch(function(err){console.log(err);});};// useEffect(()=>{\n//   const token =localStorage.getItem('token')\n//   console.log(token);\n//   if (token) {\n//     const decodedToken= jwt_decode(token)\n//     console.log(decodedToken);\n//   }\n// })\nreturn/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"account\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"create-account\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"food-image\",id:\"food-image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"HungryHub\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Welcom Back\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Login with your Email and Password\"}),/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:handleSubmit(loginSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",name:\"\"},register('Email',{required:true})),{},{placeholder:\"Enter Your Email\"})),/*#__PURE__*/_jsx(\"p\",{children:(_errors$Email=errors.Email)===null||_errors$Email===void 0?void 0:_errors$Email.message}),errorMessage=='Invalid Email Address'&&/*#__PURE__*/_jsx(\"p\",{children:errorMessage})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"password\",name:\"\"},register('Password',{required:true})),{},{placeholder:\"Enter Your Password\"})),/*#__PURE__*/_jsx(\"p\",{children:(_errors$Password=errors.Password)===null||_errors$Password===void 0?void 0:_errors$Password.message}),errorMessage=='Incorrect Password'&&/*#__PURE__*/_jsx(\"p\",{children:errorMessage})]}),/*#__PURE__*/_jsx(\"a\",{href:\"\",children:\"forgot password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Login\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"New to HungryHub? \",/*#__PURE__*/_jsx(\"a\",{href:\"/signup\",children:\"Create Account\"}),\" \"]})]})]})]})})});}export default Login;","map":{"version":3,"names":["React","useEffect","useState","userLoginSchema","useForm","yupResolver","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","_errors$Email","_errors$Password","navigate","_useState","_useState2","_slicedToArray","errorMessage","SetErrorMessage","_useForm","resolver","register","handleSubmit","errors","formState","loginSubmit","data","console","log","post","then","response","localStorage","setItem","token","message","user","userName","FullName","userId","_id","state","catch","err","children","className","id","action","onSubmit","htmlFor","_objectSpread","type","name","required","placeholder","Email","Password","href","value"],"sources":["C:/Users/USER/Desktop/HungryHub1/client/src/components/login/Login.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\n// import jwt_decode from 'jsonwebtoken';\r\nimport '../signup/signup.css'\r\nimport './login.css'\r\nimport { userLoginSchema } from '../../validation/formValidation'\r\nimport { useForm } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport axios from '../../axios'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nfunction Login() {\r\n  const navigate =useNavigate()\r\n  \r\n  const [errorMessage,SetErrorMessage] = useState('')\r\nconst {register,handleSubmit,formState:{errors}}=useForm({\r\n    resolver:yupResolver(userLoginSchema)\r\n})\r\nconst loginSubmit=(data)=>{\r\n  console.log(data);\r\n  axios.post('/users/login',data).then((response)=>{\r\n    localStorage.setItem('token',response.data.token)\r\n    SetErrorMessage(response.data.response.message)\r\n    if(response.data.response.user){\r\n      let userName=response.data.response.user.FullName\r\n      let userId= response.data.response.user._id\r\n      navigate('/',{state:{userName,userId}})\r\n      // navigate('/add-to-cart/:userId',{state:{userName,userId}})\r\n      console.log(userName);\r\n\r\n    }\r\n  }).catch((err)=>{\r\n    console.log(err);\r\n  })\r\n}\r\n// useEffect(()=>{\r\n//   const token =localStorage.getItem('token')\r\n//   console.log(token);\r\n//   if (token) {\r\n//     const decodedToken= jwt_decode(token)\r\n//     console.log(decodedToken);\r\n//   }\r\n// })\r\n  return (\r\n    <div>\r\n      <div className=\"account\">\r\n        <div className='create-account'>\r\n\r\n          <div className=\"food-image\" id='food-image'>\r\n\r\n          </div>\r\n          <div className=\"sign-up\">\r\n            <h1>HungryHub</h1>\r\n            <h3>Welcom Back</h3>\r\n            <h5>Login with your Email and Password</h5>\r\n            <form action=\"\" onSubmit={handleSubmit(loginSubmit)}>\r\n              <div className='sign-up-form'>\r\n                <label htmlFor=\"\">Email</label>\r\n                <input type=\"text\" name=\"\"  {...register('Email',{required:true})} placeholder='Enter Your Email' />\r\n                <p>{errors.Email?.message}</p>\r\n                {errorMessage=='Invalid Email Address' && <p>{errorMessage}</p>}\r\n              </div>\r\n\r\n              <div className='sign-up-form'>\r\n                <label htmlFor=\"\">Password</label>\r\n                <input type=\"password\" name=\"\"  {...register('Password',{required:true})} placeholder='Enter Your Password' />\r\n                <p>{errors.Password?.message}</p>\r\n                {errorMessage=='Incorrect Password' && <p>{errorMessage}</p>}\r\n\r\n              </div>\r\n\r\n              <a href=\"\">forgot password</a>\r\n              <input type=\"submit\" value=\"Login\"  />\r\n             \r\n              <span>New to HungryHub? <a href=\"/signup\">Create Account</a> </span>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}